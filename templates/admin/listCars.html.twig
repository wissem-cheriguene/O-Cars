{% extends 'baseAdmin.html.twig' %}

{% block title %}Liste des annonces{% endblock %}

{% block body %}

    <div class="container pt-5">
        <h1> Gestion des annonces</h1>
        <table class="table table-striped table-hover">
            <thead>
            <tr class="table-light">
                <th>Titre de l'annonce</th>
                <th>Modèle</th>
                <th>Kilomètrage</th>
                <th>Moteur</th>
                <th>Nombre de sièges</th>
                <th>Puissance</th>
                <th>Boîte de vitesse</th>
                <th>Prix</th>
                <th>Immatriculation</th>
                <th>Propriétaire</th>
                <th></th>
                <th></th>
            </tr>
            </thead>

            <tbody>
            {% for car in cars %}
                <tr class="table-light">
                    {% if car.user is  null %}
                        {% set proprio = "pas de proprio" %}
                    {% else %}
                        {% set proprio = car.user.firstName %}
                    {% endif %}
                    <td> {{ car.title }}  </td>
                    <td>{{ car.model }} </td>
                    <td>{{ car.kilometers }} </td>
                    <td>{{ car.engine }} </td>
                    <td>{{ car.seat }} </td>
                    <td>{{ car.horsePower }} </td>
                    <td>{{ car.gearbox }} </td>
                    <td>{{ car.price }}</td>
                    <td>{{ car.licensePlate }}</td>
                    <td>{{ proprio }}</td>
                    <td>
                      <a href="{{ path('admin_car_edit', {'id': car.id}) }}" class="btn btn-md btn-primary">Modifier</a>
                    </td>
                    <td>
                      <a href="{{ path('admin_car_delete', {'id': car.id}) }}" class="btn btn-md btn-danger">Supprimer</a>
                    </td>
                </tr>
            {% endfor %}



            </tbody>

        </table>
    </div>

{% endblock %}
